<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groovii</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='music_note.svg') }}">
</head>
<body>
    <div class="container result-container{% if warning_msg %} result-warning{% endif %}">
        <h2>Your playlist is ready!</h2>
        <h3 class="playlist-title">{{ playlist_name }}</h3>
        {% if warning_msg %}
        <div class="error" style="color:#ffb347;background:#222;padding:12px 18px;border-radius:8px;margin-bottom:18px;font-size:1.1em;">
            {{ warning_msg }}
        </div>
        <script>
        // Pass info to analyze page to make form bigger on next visit
        sessionStorage.setItem('playlistWarning', '1');
        </script>
        {% endif %}
        <a href="{{ playlist_url }}" class="btn" target="_blank" style="display:block;margin-bottom:24px;">Open Playlist in Spotify</a>
        <div class="spotify-player">
            <iframe src="https://open.spotify.com/embed/playlist/{{ playlist_id }}" width="100%" height="500" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        </div>
        <ul class="playlist-list">
            <!-- Playlist tracks will be injected here -->
        </ul>
        <div class="error" style="display: none;">
            <!-- Error message will be injected here -->
        </div>
        <a href="/" class="btn" style="margin-top:4px;">Generate Next Playlist</a>
    </div>
    <style>
    .result-warning {
        max-width: 700px !important;
        min-width: 400px !important;
        padding: 48px 36px !important;
    }
    </style>
</body>
</html>
